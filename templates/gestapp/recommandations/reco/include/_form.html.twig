{{ form_start(form) }}
<div class="flex flex-col gap-0 px-2 py-1">
    {{ form_label(form.title, null, {'label_attr': {'class': 'block text-md font-medium text-emerald-900', 'for': form.title.vars.label}}) }}
    {{ form_widget(form.title,  {'attr': {'class': 'block w-full text-sm px-2 py-1 border border-emerald-800 rounded text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Titre de votre recommandation'}}) }}
</div>
<div class="flex flex-col gap-0 px-2 py-1">
    <p class="block text-md font-medium text-emerald-900">{% if app.current_route == "paps_gestapp_recos_edit" %}La proposition{% else %}Que proposez-vous comme recommandation ?{% endif %}</p>
    <div class="flex flex-row gap-1 w-full">
        <div class="w-2/4">
            {# {{ form_label(form.typeReco, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700', 'for': form.typeReco.vars.label}}) }} #}
            {{ form_widget(form.typeReco,  {'attr': {'class': 'w-full text-sm px-2 py-2 border rounded text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200'}}) }}
        </div>
        <div class="w-2/4">
            {# {{ form_label(form.typeProperty, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700', 'for': form.typeProperty.vars.label}}) }} #}
            {{ form_widget(form.typeProperty,  {'attr': {'class': 'w-full text-sm px-2 py-2 border rounded text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200'}}) }}
        </div>
    </div>

</div>

<div class="flex flex-col justify-center w-full px-2 mb-4">
    <h2 class="uppercase font-light pb-1 mb-2 border-b">Informations du potentiel recommandé</h2>
    <div class="bg-white w-full rounded shadow-sm border-emerald-700 border">
        <div class="flex flex-col gap-0 px-2 py-1">
            {{ form_label(form.customerFirstName, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700', 'for': form.customerFirstName.vars.label}}) }}
            <div class="flex flex-row justify-start px-2 border-x border-t rounded-t">
                {% for label, value, choice in field_choices(form.customerCivility) %}
                    <div class="mb-[0.125rem] me-4 inline-block min-h-[1.5rem]">
                        <input class="h-3 w-3 text-blue-600 border-gray-300 rounded focus:ring-1 focus:z-10 focus:ring-blue-500" type="radio" name="{{ field_name(form.customerCivility) }}" id="inlineRadio1" value="{{ value }}" {% if value is same as reco.customerCivility %}checked="checked"{% endif %}>
                        <label class="ml-2 text-sm text-gray-700" for="inlineRadio1">{{ label }}</label>
                    </div>
                {% endfor %}
            </div>
            {{ form_widget(form.customerFirstName,  {'attr': {'class': 'block w-full text-sm px-2 py-1 border-t border-x text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Prénom'}}) }}
            {{ form_widget(form.customerMaiden,  {'attr': {'class': 'hidden block w-full text-sm px-2 py-1 border-t border-x text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Nom d\'usage'}}) }}
            {{ form_widget(form.customerLastName,  {'attr': {'class': 'block w-full text-sm px-2 py-1 border-x border-y rounded-b text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Nom'}}) }}
        </div>
        <div class="flex flex-col gap-0 px-2 pt-1 pb-2">
            {{ form_label(form.customerPhone, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700', 'for': form.customerPhone.vars.label}}) }}
            {{ form_widget(form.customerPhone,  {'attr': {'class': 'block w-full text-sm px-2 py-1 border-t border-x rounded-t text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Téléphone', 'oninput':'formatTel(this)'}}) }}
            {{ form_widget(form.customerEmail,  {'attr': {'class': 'block w-full text-sm px-2 py-1 border rounded-b text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Email'}}) }}
        </div>
    </div>
</div>

<div class="flex flex-col justify-center w-full px-2 mb-4">
    <h2 class="uppercase font-light pb-1 mb-2 border-b">Informations du bien</h2>
    <div class="bg-white w-full rounded shadow-sm border-emerald-700 border">
        <div class="flex flex-col gap-0 px-2 py-1">
            {{ form_label(form.propertyAddress, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700', 'for': form.propertyAddress.vars.label}}) }}
            {{ form_widget(form.propertyAddress,  {'attr': {'class': 'block w-full text-sm px-2 py-1 border-t border-x rounded-t text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Adresse'}}) }}
            {{ form_widget(form.propertyComplement,  {'attr': {'class': 'block w-full text-sm px-2 py-1 border-t border-x text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Complément'}}) }}
            <div class="flex flex-row gap-0">
                {{ form_widget(form.propertyZipcode,  {'attr': {'class': 'w-20 text-sm px-2 py-1 border-s border-y rounded-bl text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder':'CP'}}) }}
                {{ form_widget(form.propertyCity,  {'attr': {'class': 'hidden w-80 text-sm px-2 py-1 border-x border-y rounded-br text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder':'Commune'}}) }}
                <select id="selectcity" class="w-80 text-sm px-2 py-1 border-x border-y bg-white rounded-br text-gray-700 focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-200">
                    <option>{{ form.propertyZipcode.vars.data }} - {{ form.propertyCity.vars.data }}</option>
                </select>
            </div>
        </div>
    </div>
</div>

<div class="flex flex-col justify-center w-full px-2 mb-4">

    <div class="w-full text-on-surface">
        <div x-data="{ isExpanded: false }">
            <button id="controlsAccordionItemOne" type="button" class="flex w-full items-center justify-end text-right " aria-controls="accordionItemOne" x-on:click="isExpanded = ! isExpanded" x-bind:class="isExpanded ? 'text-on-surface-strong dark:text-on-surface-dark-strong font-medium'  : 'text-on-surface dark:text-on-surface-dark font-medium'" x-bind:aria-expanded="isExpanded ? 'true' : 'false'">
                Information relative au RGPD
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke="currentColor" class="size-5 shrink-0 transition" aria-hidden="true" x-bind:class="isExpanded  ?  'rotate-180'  :  ''">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/>
                </svg>
            </button>
            <div x-cloak x-show="isExpanded" id="accordionItemOne" role="region" aria-labelledby="controlsAccordionItemOne" x-collapse>
                <div class="p-4 italic text-sm sm:text-sm text-pretty text-gray-700">
                    Les personnes dont vous collectez les informations disposent d'un droit d'accès aux informations contenues dans cette recommandation.
                    Les informations que vous y inscrivez doivent être pertinentes au regard du contexte.
                    Elles ne doivent pas comporter d'appréciation subjectives, ni faire apparaître, directement ou indirectement, des données de santé, d'origines raciales, d'opinions politiques, philosophiques ou religieuses, d'appartenance syndicale ou les moeurs de la personne concernées.
                </div>
            </div>
        </div>
    </div>
    <div class="flex items-center mb-4">
        {{ form_widget(form.isAuthCustomer,  {'attr': {'class': 'w-4 h-4 text-sm border-emerald-700 border focus:ring-1 focus:z-10 focus:ring-blue-200', 'placeholder' : 'Complément'}}) }}
        {{ form_label(form.isAuthCustomer, null, {'label_attr': {'class': 'ms-4 text-sm text-gray-700', 'for': form.isAuthCustomer.vars.label}}) }}

    </div>
</div>

<div class="flex flex-row gap-1 px-2 pb-24">
    {% if app.current_route == "paps_gestapp_recos_edit" %}
        <a
                class="block w-2/4 bg-red-600 text-white text-center py-1.5 px-3 mb-1 text-sm rounded-md hover:bg-red-700 active:bg-red-700 active:shadow-lg focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-300"
        >
            Supprimer ma recommandation
        </a>
    {% endif %}
    <button
            type="submit"
            class="{% if app.current_route == "paps_gestapp_recos_edit" %}w-2/4{% else %}w-full{% endif%} bg-blue-600 text-white py-1.5 px-3 mb-1 text-sm rounded-md hover:bg-blue-700 active:bg-blue-800 active:shadow-lg focus:outline-none focus:ring-1 focus:z-10 focus:ring-blue-300"
    >
        Soumettre ma recommandation
    </button>

</div>

{{ form_end(form) }}